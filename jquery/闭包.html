<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
<meta charset="utf-8">
<title></title>

<script src="../jquery-1.8.3.min.js"></script>
<script type="text/javascript">
/**
  * 什么是闭包：
  * 闭包是指有权访问另一个函数作用域中变量的函数，创建闭包的最常见的方式就是在一个函数内创建另一个函数，通过另一个函数访问这个函数的局部变量，利用闭包可以突破作用链域，将函数内部的变量和方法传递到外部。
  
  * 闭包特性：
  * (1)函数内再嵌套函数
  * (2)内部函数可以引用外层的参数和变量
  * (3)参数和变量不会被垃圾回收机制回收
  */
  function makeFunc(){
    var name = "John"
    function displayName(){
      alert(name)
    }
    return displayName
  }
  var myFunc = makeFunc()
  //myFunc()
  
  /**
    * jquery扩展.
    */
  $.fn.stringifyArray = function(array){
    return JSON.stringify(array)
  }
  /*$("").stringifyArray(array)*/
  
  /**
    * jquery.fn.extend
    */
 $.fn.extend({          
   alertWhileClick:function() {            
         $(this).click(function(){                 
                alert($(this).val());           
          });           
    }       
});       
$("#input1").alertWhileClick();
</script>
</head>
<body>
<input type="text" class="ipt" id="input1" value="mmm">
	<ul>
	  <li>index=1</li>
	  <li>index=2</li>
	  <li>index=3</li>
	  <li>index=4</li>
	</ul>
	<script type="text/javascript"> 
    var nodes = document.getElementsByTagName('li'); 
    for(i = 0;i<nodes.length;i+=1) { 
        nodes[i].onclick = function() { 
            console.log(i+1); //不使用闭包的话，值每次都是4 
        }(); 
     }
</script>
</body>
</html>
